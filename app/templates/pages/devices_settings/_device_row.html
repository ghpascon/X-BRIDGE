<div
  class="flex items-center justify-between bg-white rounded-md shadow-sm p-2 text-sm"
>
  <div class="flex items-center gap-3 truncate">
    <div
      class="w-3 h-3 rounded-full flex-shrink-0 mt-0.5"
      :class="!device.is_connected ? 'bg-red-500' : (device.is_connected && device.is_reading) ? 'bg-green-500' : 'bg-yellow-500'"
      :title="!device.is_connected ? 'Disconnected' : (device.is_reading ? 'Reading' : 'Connected')"
    ></div>
    <div class="truncate">
      <div
        class="font-medium text-gray-800 truncate"
        x-text="device.name"
      ></div>
      <div
        class="text-xs text-gray-400 truncate"
        x-text="device.device_type || 'unknown'"
      ></div>
    </div>
  </div>

  <div class="flex flex-col items-end ml-2 text-xs text-gray-600 gap-1">
    <span
      :class="device.is_connected ? 'text-green-600' : 'text-red-600'"
      x-text="device.is_connected ? 'Connected' : 'Disconnected'"
    ></span>
    <span
      :class="device.is_reading ? 'text-blue-600' : 'text-gray-400'"
      x-text="device.is_reading ? 'Reading' : 'Idle'"
    ></span>
    <div class="flex gap-1 mt-1">
      <button
        class="px-2 py-0.5 rounded bg-blue-100 text-blue-700 hover:bg-blue-200 transition text-xs border border-blue-200"
        @click="editDevice(device.name)"
        title="Edit device"
      >
        Edit
      </button>
      <button
        class="px-2 py-0.5 rounded bg-red-100 text-red-700 hover:bg-red-200 transition text-xs border border-red-200"
        @click="deleteDevice(device.name)"
        title="Delete device"
      >
        Delete
      </button>
    </div>
  </div>
</div>
